<?xml version="1.0" ?>
<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>

        <service id="dokudoki.connector" class="Trismegiste\DokudokiBundle\Persistence\Connector"/>

        <service id="dokudoki.collection" class="MongoCollection"
                 factory-service="dokudoki.connector"
                 factory-method="getCollection"/>

        <service id="dokudoki.builder.blackmagic" class="Trismegiste\DokudokiBundle\Transform\Delegation\Stage\BlackMagic" public="false"/>
        <service id="dokudoki.builder.whitemagic" class="Trismegiste\DokudokiBundle\Transform\Delegation\Stage\WhiteMagic" public="false"/>
        <service id="dokudoki.builder.hoodoo" class="Trismegiste\DokudokiBundle\Transform\Delegation\Stage\Hoodoo" public="false"/>
        <service id="dokudoki.builder.invocation" class="Trismegiste\DokudokiBundle\Transform\Delegation\Stage\Invocation" public="false"/>

        <service id="dokudoki.director" class="Trismegiste\DokudokiBundle\Transform\Delegation\MappingDirector" public="true"/>
        
    </services>
</container>